"use strict";!function(){angular.module("jukebox",["ngRoute","ngAnimate","ui.bootstrap","as.sortable","ngTouch","ngCookies","matchMedia","spotify"]).directive("compile",["$compile","$timeout",function(e,o){return{restrict:"A",link:function(t,n){o(function(){e(n.contents())(t)})}}}]).config(["$compileProvider","$routeProvider","$locationProvider","SpotifyProvider",function(e,o,t,n){e.debugInfoEnabled(!1),o.when("/dataviz",{controller:"DatavizController",templateUrl:"dataviz/dataviz.html"}).when("/spotify_login",{templateUrl:"dataviz/spotify_login.html"}).when("/:roomId",{controller:"QueueController",templateUrl:"queue/queue.html"}).when("/",{controller:"HomeController",templateUrl:"home/home.html"}).otherwise({redirectTo:"/"}),t.html5Mode(!0),n.setClientId("39903cb10e0a4f6da882d6c53db62776"),n.setRedirectUri("http://letsjukebox.com/spotify_login/"),n.setScope("user-library-read user-top-read")}])}(),function(){function e(e){e.changeXAxisCategory=function(){console.log(e.xAxisCategory)},e.changeYAxisCategory=function(){for(var o=0;o<e.musicTracks.length;o++)e.musicTracks[o].y_category=e.musicTracks[o].audio_features[e.yAxisCategory];e.updateGraph()},e.changeTopTimePeriod=function(){document.getElementById("mygraph").classList=[],document.getElementById("mygraph").classList.add(e.selectedTimePeriod),e.toggleHiddenNonTopTracks()},e.toggleHiddenNonTopTracks=function(){e.nonTopTracksHidden?document.getElementById("mygraph").classList.add("hide-non-top"):document.getElementById("mygraph").classList.remove("hide-non-top")}}angular.module("jukebox").controller("GraphControlsController",e),e.$inject=["$scope"]}(),function(){function e(e){function o(){d.selectAll("circle").classed("animate",!1).attr("cx",function(e){return i(e.date)}).attr("cy",function(e){return l(e.y_category)}),d3.select(".x.axis").call(c),d3.select(".y.axis").call(u)}e.selectedTimePeriod="long_term",e.xAxisCategory="time",e.yAxisCategory="energy";var t={top:50,right:20,bottom:30,left:60},n=50,a=1e3-t.left-t.right,r=450-t.top-t.bottom,s=d3.time.format.iso.parse,i=d3.time.scale().range([n,a]),l=d3.scale.linear().range([n/2,r]),c=d3.svg.axis().scale(i).orient("top").ticks(5).tickSize(8),u=d3.svg.axis().scale(l).orient("left").ticks(5).tickSize(8),d=d3.select(".mydiv").append("svg").attr("width",a+t.left+t.right).attr("height",r+t.top+t.bottom).append("g").attr("transform","translate("+t.left+","+t.top+")"),g=d3.select(".mydiv").append("div").attr("class","tooltip").style("opacity",0),m=e.musicTracks,p=!0,f=!1,h=void 0;try{for(var v,b=m[Symbol.iterator]();!(p=(v=b.next()).done);p=!0){var y=v.value;y.date=s(y.added_at),y.y_category=y.audio_features[e.yAxisCategory]}}catch(k){f=!0,h=k}finally{try{!p&&b.return&&b.return()}finally{if(f)throw h}}i.domain(d3.extent(m,function(e){return e.date})),l.domain([0,d3.max(m,function(e){return e.y_category})+.1]),d.append("rect").attr("width",a+t.left+t.right+n).attr("height",r+t.top+t.bottom+n),d.selectAll("dot").data(m).enter().append("circle").attr("class","dot").attr("class",function(e){return e.is_top.length>0?"top "+e.is_top.join(" "):void 0}).attr("r",8).style("opacity",.6).attr("cx",function(e){return i(e.date)}).attr("cy",function(e){return l(e.y_category)}).on("mouseover",function(e){d3.select(this).attr("r",16).classed("selected",!0),g.transition().duration(200).style("opacity",.7).attr("r",30),g.html(e.name+"<br>"+e.artists[0].name).style("left",d3.event.pageX+10+"px").style("top",d3.event.pageY-parseInt(g.node().getBoundingClientRect().height+10)+"px")}).on("mouseout",function(){d3.select(this).attr("r",8).classed("selected",!1),g.transition().duration(500).style("opacity",0)}).on("click",function(o){e.playSelectedSong(o.name,o.artists[0].name)}),d.append("g").attr("class","x axis").call(c),d.append("g").attr("class","y axis").call(u),d.call(d3.behavior.zoom().x(i).y(l).on("zoom",o)),e.updateGraph=function(){d.selectAll("circle").classed("animate",!0).attr("cx",function(e){return i(e.date)}).attr("cy",function(e){return l(e.y_category)}),d3.select(".x.axis").call(c),d3.select(".y.axis").call(u)}}angular.module("jukebox").controller("GraphController",e),e.$inject=["$scope"]}(),function(){function e(e,o,t,n,a){function r(o,t){s(o,t).success(function(o){o.items.length>=1&&(e.yt_video_id=o.items[0].id.videoId)}).error(function(e){console.log("ERROR YoutubeController.updateCurrentVideo",e)})}function s(e,o){return t({url:"https://www.googleapis.com/youtube/v3/search",method:"GET",params:{part:"snippet",key:i,q:e+" "+o,type:"video",videoEmbeddable:"true"}})}var i="AIzaSyALGbklexv5u7P3zjV4xJCYfEYLwwukfkE";e.room=a,e.yt_video_id="";e.$on("updateVideoEvent",function(e,o,t){r(o,t)})}angular.module("jukebox").controller("YoutubeController",e).filter("youtubeEmbedUrl",["$sce",function(e){return function(o){return e.trustAsResourceUrl("http://www.youtube.com/embed/"+o+"?autoplay=1&iv_load_policy=3&origin=http://letsjukebox.com/")}}]),e.$inject=["$scope","$rootScope","$http","$sce","sharedRoomData"]}(),function(){function e(){return{restrict:"A",replace:!0,template:'<div class="spinner"> <!-- kudos to Tobias Ahlin! [http://tobiasahlin.com/spinkit/] --> <div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div>'}}angular.module("jukebox").directive("spinner",e)}(),function(){angular.module("jukebox").factory("sharedRoomData",function(){var e={roomId:"",roomName:"",allAdmin:!1,passwordProtected:!1,roomPassword:"",userId:"",userName:"",loaded:!1,queue:{},trending:[]};return e})}(),function(){function e(){return{restrict:"A",replace:!0,templateUrl:"common/plusButton/plusButton.html",controller:["$scope","$uibModal",function(e,o){e.showSearch=function(){o.open({templateUrl:"search/search.html",controller:"SearchController",windowClass:"search-page",keyboard:!1})}}]}}angular.module("jukebox").directive("plusButton",e)}(),function(){function e(){return{restrict:"A",replace:!0,scope:{currentlyPlaying:"="},templateUrl:"common/header/header.html"}}angular.module("jukebox").directive("header",e).filter("spotifyEmbedUrl",["$sce",function(e){return function(o){return e.trustAsResourceUrl("https://embed.spotify.com/?uri="+o)}}])}(),function(){function e(){return{restrict:"A",replace:!0,scope:{},templateUrl:"common/footer/footer.html"}}angular.module("jukebox").directive("footer",e)}(),function(){angular.module("jukebox").factory("backendAPI",["$http",function(e){var o="/api",t={};e.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8";var n=function a(e){var o,t,n,r,s,i,l,c="";for(o in e)if(t=e[o],t instanceof Array)for(l=0;l<t.length;++l)s=t[l],n=o+"["+l+"]",i={},i[n]=s,c+=a(i)+"&";else if(t instanceof Object)for(r in t)s=t[r],n=o+"["+r+"]",i={},i[n]=s,c+=a(i)+"&";else void 0!==t&&null!==t&&(c+=encodeURIComponent(o)+"="+encodeURIComponent(t)+"&");return c.length?c.substr(0,c.length-1):c};return e.defaults.transformRequest=[function(e){return angular.isObject(e)&&"[object File]"!==String(e)?n(e):e}],t.registerUser=function(t){return e.post(o+"/register_user",t)},t.changeUsername=function(t){return e.post(o+"/change_username",t)},t.joinRoom=function(t){return e.post(o+"/join_room",t)},t.getSongQueue=function(t){return e({method:"GET",url:o+"/get_song_queue",params:t})},t.addSong=function(t){return e.post(o+"/submit_song",t)},t.reorderSong=function(t){return e.post(o+"/reorder_song",t)},t.deleteSong=function(t){return e.post(o+"/delete_song",t)},t.searchRooms=function(t){return e.post(o+"/search_room",t)},t.getTrendingSongs=function(){return e.get(o+"/get_trending_songs")},t}])}(),function(){function e(){return{restrict:"A",replace:!0,scope:{},templateUrl:"search/search.html",controller:["$scope",function(){}]}}angular.module("jukebox").directive("search",e)}(),function(){function e(e,o,t,n,a,r){function s(){n.getSongQueue({room_id:a.roomId,password:a.password}).success(function(e){"OK"===e.status?(a.roomName=e.room_name,a.queue=e.data,console.log("OK backendAPI.getSongQueue",e)):console.log("NOT OK backendAPI.getSongQueue",e)}).error(function(e){console.log("ERROR backendAPI.getSongQueue",e)})}e.roomId=o.roomId,e.querying=!0,e.myData={},e.myData.spotify={},e.myData.spotify.suggestions=a.trending,e.myData.sendQuery=function(){e.querying=!0;var o=t.get("https://api.spotify.com/v1/search",{params:{q:e.searchText,type:"track"}});o.success(function(o){e.querying=!1,console.log("OK SearchController.sendQuery",o),e.myData.spotify.results=o.tracks.items}),o.error(function(){e.querying=!1,e.myData.spotify.results=null,console.log("ERROR returning results from spotify")})},e.closeSearch=function(){r.close()},e.addSong=function(o,t,r,i,l){n.addSong({room_id:a.roomId,user_id:a.userId,password:a.password,url:o,track:t,artist:r,album:i,album_art_url:l}).success(function(o){"OK"===o.status?(s(),console.log("OK backendAPI.addSong",o)):console.log("NOT OK backendAPI.addSong",o),e.closeSearch()}).error(function(e){console.log("ERROR backendAPI.addSong",e)})}}angular.module("jukebox").controller("SearchController",e),e.$inject=["$scope","$routeParams","$http","backendAPI","sharedRoomData","$uibModalInstance"]}(),function(){angular.module("jukebox").controller("QueueController",["$scope","$rootScope","$interval","$routeParams","$cookies","$uibModal","backendAPI","sharedRoomData","screenSize",function(e,o,t,n,a,r,s,i,l){function c(){r.open({templateUrl:"common/ui-elements/defaultModal.html",controller:["$scope","$sce","$uibModalInstance","sharedRoomData",function(e,o,t,n){e.modal_title="Enter Your Alias",e.modal_body_html=o.trustAsHtml('<span>@</span><input type="text" ng-model="aliasInput" class="form-control" autofocus required />'),e.primary_btn_text="CONTINUE",e.ok=function(){e.aliasInput&&!/[^a-zA-Z0-9]/.test(e.aliasInput)&&(t.close(),n.userName=e.aliasInput,u(n.userName))}}],backdrop:"static",windowClass:"default",keyboard:!1})}function u(e){s.registerUser({username:e}).success(function(e){"OK"===e.status?(i.userId=e.data,a.put("jb_user_name",i.userName),a.put("jb_user_id",i.userId),d(),console.log("OK backendAPI.registerUser",e)):console.log("NOT OK backendAPI.registerUser",e)}).error(function(e){console.log("ERROR backendAPI.registerUser",e)})}function d(){s.joinRoom({room_id:i.roomId,user_id:i.userId,password:i.password}).success(function(e){"OK"===e.status?(console.log("OK backendAPI.joinRoom",e),g()):("The correct password was not provided."===e.message&&(i.passwordProtected=!0,i.password=window.prompt("Enter the password:"),a.put(i.roomId,i.password),d()),console.log("NOT OK backendAPI.joinRoom",e))}).error(function(e){console.log("ERROR backendAPI.joinRoom",e)})}function g(){s.getSongQueue({room_id:i.roomId,password:i.password}).success(function(e){"OK"===e.status?(console.log("OK backendAPI.getSongQueue",e),i.roomName=e.room_name,i.queue=e.data,i.allAdmin="1"==e.all_admin?!0:!1,i.loaded=!0,h||(h=t(function(){f||g()},v))):("The correct password was not provided."===e.message&&(i.passwordProtected=!0,i.password=window.prompt("Enter the password:"),a.put(i.roomId,i.password),g()),console.log("NOT OK backendAPI.getSongQueue",e))}).error(function(e){console.log("ERROR backendAPI.getSongQueue",e)})}function m(e,o){s.reorderSong({room_id:i.roomId,user_id:i.userId,password:i.password,song_id:e,new_pos:o}).success(function(e){"OK"===e.status?(console.log("OK backendAPI.reorderSong",e),g()):console.log("NOT OK backendAPI.reorderSong",e)}).error(function(){console.log("ERROR backendAPI.reorderSong",error)})}function p(e){s.deleteSong({room_id:i.roomId,user_id:i.userId,password:i.password,song_id:e}).success(function(e){"OK"===e.status?(console.log("OK backendAPI.deleteSong",e),g()):console.log("NOT OK backendAPI.deleteSong",e)}).error(function(){console.log("ERROR backendAPI.deleteSong",error)})}e.pageClass="queue-page";var f=!1,h=void 0,v=3e3;o.responsiveVersion=l.is("xs, sm")?"mobile":"desktop",e.mobile=l.on("xs, sm",function(t){e.mobile=t,o.responsiveVersion=t?"mobile":"desktop"}),e.room=i,i.roomId=n.roomId,e.roomId=i.roomId;var b=["BlueTrout","YellowDuck","RedHerring","BoredMoose","SillyWhale","OrangeEagle","VelvetMouse","GreenMonkey","VioletLobster","ConfusedTucan","WileySloth"];if(i.userId=a.get("jb_user_id"),i.userName=a.get("jb_user_name"),i.password=a.get(i.roomId)?a.get(i.roomId):"",i.userId&&i.userName)console.log("You already have a username! It is "+i.userName),d();else{var y=b[Math.floor(Math.random()*b.length)];c(y)}s.getTrendingSongs().success(function(e){"OK"===e.status?(console.log("OK backendAPI.getTrendingSongs",e),i.trending=e.data.map(function(e){return e.track})):console.log("NOT OK backendAPI.getTrendingSongs",e)}).error(function(e){console.log("ERROR backendAPI.getTrendingSongs",e)}),e.dragControlListeners={accept:function(){return!0},dragStart:function(){f=!0},dragEnd:function(){f=!1},orderChanged:function(e){var o=e.source.itemScope.element[0].dataset.uuid,t=e.dest.index;m(o,t)},containment:".song-queue"},e.deleteSong=function(e){var o=e.target.parentElement.dataset.uuid;p(o)}}])}(),function(){function e(e,o,t){function n(o,t){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(t){e.logoFill="url(#lg)",console.log("Location acquired.");var n=t.coords.latitude,a=t.coords.longitude;e.coordinates=[n,a],console.log(e.coordinates),o&&o()},function(){t&&t()},{timeout:1e3*a},{maximumAge:1e3*r}):t&&t()}var a=30,r=60;e.pageClass="home-page",e.coordinates=[],n(function(){t.searchRooms({coordinates:e.coordinates[0]+","+e.coordinates[1],distance:"10000"}).success(function(e){"OK"===e.status?(console.log("OK backendAPI.searchRooms",e),e.data.length>=1?o.path(e.data[0].id):console.log("No nearby rooms available.")):console.log("NOT OK backendAPI.searchRooms",e)}).error(function(e){console.log("NOT OK backendAPI.searchRooms",e)})},function(){console.log("Could not get location.")})}angular.module("jukebox").controller("HomeController",e),e.$inject=["$scope","$location","backendAPI","$http"]}(),function(){function e(e,o,t){function n(e){return 0===Object.keys(e).length}function a(o,n,a){t.getTracksAudioFeatures(o).then(function(o){e.featureRequestsToMake-=1;for(var t=0;t<o.audio_features.length;t++)n+1==a.length?(a[a.length-a.length%100+t]!=o.audio_features[t].id&&console.log("There is a problem at ",n,t),e.musicData[a[a.length-a.length%100+t]].audio_features=o.audio_features[t]):(n+1)%100==0?(a[n+1-100+t]!=o.audio_features[t].id&&console.log("There is a problem at ",n,t),e.musicData[a[n+1-100+t]].audio_features=o.audio_features[t]):console.log("This should never happen...")}).catch(function(e){console.log("Something went wrong!"),console.log(e)})}function r(o){e.featureRequestsToMake=Math.ceil(o.length/100),console.log(e.featureRequestsToMake);for(var t="",n=0;n<o.length;n++)t+=o[n]+",",((n+1)%100==0||n+1==o.length)&&(t=t.slice(0,-1),a(t,n,o),t="")}function s(o,n){t.getSavedUserTracks({offset:o,limit:n}).then(function(t){return console.log(o,t.items),e.savedTrackList=e.savedTrackList.concat(t.items),t.items.length<n?(console.log("Saved tracks finished loading!",e.savedTrackList),i(),!0):(setTimeout(function(){s(o+n,n)},100),void 0)}).catch(function(e){console.log("Something went wrong!"),console.log(e)})}function i(){t.getUserTopTracks({limit:50,time_range:"long_term"}).then(function(o){for(var t=0;t<o.items.length;t++)e.topTracks.long_term[o.items[t].id]=o.items[t];return!0}),t.getUserTopTracks({limit:50,time_range:"medium_term"}).then(function(o){for(var t=0;t<o.items.length;t++)e.topTracks.medium_term[o.items[t].id]=o.items[t];return!0}),t.getUserTopTracks({limit:50,time_range:"short_term"}).then(function(o){for(var t=0;t<o.items.length;t++)e.topTracks.short_term[o.items[t].id]=o.items[t];return!0})}e.pageClass="dataviz-page",e.musicLoadingIsComplete=!1,e.getSongsClicked=!1,e.musicData={},e.musicTracks=[],e.savedTrackList=[],e.topTracks={long_term:{},medium_term:{},short_term:{}},t.login(),e.login=function(){t.login()},e.getSongs=function(){e.getSongsClicked=!0,s(0,50)},e.playSelectedSong=function(o,t){e.$broadcast("updateVideoEvent",o,t)},e.$watch("featureRequestsToMake",function(){0==e.featureRequestsToMake&&(console.log("Music loading is complete!",e.musicData),e.musicTracks=Object.keys(e.musicData).map(function(o){return e.musicData[o]}),e.musicLoadingIsComplete=!0)}),e.$watch("topTracks",function(){if(!n(e.topTracks.long_term)&&!n(e.topTracks.medium_term)&&!n(e.topTracks.short_term)){console.log("All top tracks finished loading!",e.topTracks);var o=!0,t=!1,a=void 0;try{for(var s,i=e.savedTrackList[Symbol.iterator]();!(o=(s=i.next()).done);o=!0){var l=s.value,c=l.track;c.added_at=l.added_at,c.is_top=[],e.topTracks.long_term[c.id]&&c.is_top.push("long_term"),e.topTracks.medium_term[c.id]&&c.is_top.push("medium_term"),e.topTracks.short_term[c.id]&&c.is_top.push("short_term"),e.musicData[c.id]=c}}catch(u){t=!0,a=u}finally{try{!o&&i.return&&i.return()}finally{if(t)throw a}}r(Object.keys(e.musicData))}},!0)}angular.module("jukebox").controller("DatavizController",e),e.$inject=["$scope","$http","Spotify"]}(),function(e){try{e=angular.module("jukebox")}catch(o){e=angular.module("jukebox",[])}e.run(["$templateCache",function(e){e.put("/jukebox/dataviz/dataviz.html",'<div class="dataviz-page"><div class="header"><div>Jukebox</div><button ng-click="login()">Login</button> <button ng-click="getSongs()">Get Songs</button></div><div ng-if="!getSongsClicked" class="explainer-text">Click Get Songs to get started. &mapstoup;</div><div ng-if="getSongsClicked && !musicLoadingIsComplete" spinner></div><div ng-controller="GraphController" ng-if="musicLoadingIsComplete"><div class="graph-view"><div id="mygraph" ng-class="selectedTimePeriod"><div class="mydiv"></div></div></div><div ng-controller="GraphControlsController"><div class="graph-controls-view"><div class="control-box"><div class="content">Top tracks from<select ng-model="selectedTimePeriod" ng-change="changeTopTimePeriod()" name="time-period"><option value="long_term">All time</option><option value="medium_term">Last 6 months</option><option value="short_term">Last 4 weeks</option></select><br>Hide non top tracks? <input type="checkbox" ng-change="toggleHiddenNonTopTracks()" name="hide-non-top" ng-model="nonTopTracksHidden"><br>Display tracks based on<br><select ng-model="yAxisCategory" ng-change="changeYAxisCategory()" name="y-axis-category"><option value="danceability">Danceability</option><option value="energy">Energy</option><option value="speechiness">Speechiness</option><option value="acousticness">Acousticness</option><option value="instrumentalness">Instrumentalness</option><option value="liveness">Liveness</option><option value="valence">Valence</option></select>x<select ng-model="xAxisCategory" ng-change="changeXAxisCategory()" name="x-axis-category"><option value="time">Date added</option></select></div></div></div></div></div><div ng-controller="YoutubeController"><div class="iframe-container"><iframe id="ytplayer" type="text/html" ng-src="{{ yt_video_id | youtubeEmbedUrl }}" frameborder="0" allowfullscreen></div></div></div>')}])}(),function(e){try{e=angular.module("jukebox")}catch(o){e=angular.module("jukebox",[])}e.run(["$templateCache",function(e){e.put("/jukebox/dataviz/spotify_login.html",'<script>var hash = window.location.hash;\n  if (window.location.search.substring(1).indexOf("error") !== -1) {\n    // login failure\n    console.log("Spotify login failure.");\n    window.close();\n  } else if (hash) {\n    var token = window.location.hash.split(\'&\')[0].split(\'=\')[1];\n    if (token) {\n      // login success\n      console.log("Spotify login success.");\n      localStorage.setItem(\'spotify-token\', token);\n    } else {\n      console.log("Spotify token is undefined.");\n    }\n  }</script>')}])}(),function(e){try{e=angular.module("jukebox")}catch(o){e=angular.module("jukebox",[])}e.run(["$templateCache",function(e){e.put("/jukebox/home/home.html",'<div class="home-page"><div class="jb-icon"><svg><lineargradient id="lg" x1="1" y1="1" x2="0" y2="0"><stop offset="0%" stop-opacity="1" stop-color="white"><stop offset="0%" stop-opacity="1" stop-color="white"><animate attributename="offset" values="0;1" fill="freeze" repeatcount="0" dur="5s" begin="0s"></stop><stop offset="0%" stop-opacity="1" stop-color="black"><animate attributename="offset" values="0;1" fill="freeze" repeatcount="0" dur="5s" begin="0s"></stop><stop offset="100%" stop-opacity="1" stop-color="black"></lineargradient><use xlink:href="#plus-icon"></use></svg></div></div>')}])}(),function(e){try{e=angular.module("jukebox")}catch(o){e=angular.module("jukebox",[])}e.run(["$templateCache",function(e){e.put("/jukebox/queue/queue.html",'<div class="desktop-content"><div ng-controller="YoutubeController" ng-if="room.queue[0] && !mobile"><div class="iframe-container"><iframe id="ytplayer" type="text/html" ng-src="{{ yt_video_id | youtubeEmbedUrl }}" frameborder="0" allowfullscreen></div></div></div><div class="queue-wrapper"><div ng-if="!room.loaded" spinner></div><div ng-if="room.loaded"><div header currently-playing="room.queue[0]"></div><div class="song-queue" data-as-sortable="dragControlListeners" data-ng-model="room.queue"><div ng-repeat="song in room.queue"><div class="song-queue-item noselect" data-uuid="{{ song.unique_id }}" data-as-sortable-item ng-swipe-left="showDeleteButton = true" ng-swipe-right="showDeleteButton = false"><img src="{{ song.image_url }}" class="song-image"><div class="song-info"><div class="song-title">{{ song.track }}</div><div class="song-artist">{{ song.artist }}</div><div class="song-user">@{{ song.submitter }}</div></div><i class="fa fa-th-list drag-button" ng-if="room.allAdmin && !showDeleteButton" data-as-sortable-item-handle></i> <i class="fa fa-trash fa-lg delete-button" ng-if="room.allAdmin && showDeleteButton" ng-click="deleteSong($event)"></i></div></div></div></div></div><div plus-button></div>')}])}(),function(e){try{e=angular.module("jukebox")}catch(o){e=angular.module("jukebox",[])}e.run(["$templateCache",function(e){e.put("/jukebox/search/search.html",'<div class="search-wrapper"><div class="search-header-items"><div class="search-header-item search"><input id="song-search-box" type="search" ng-model="searchText" ng-model-options="{ debounce: 500 }" ng-change="myData.sendQuery()" placeholder="Search Spotify..." autofocus></div><div class="search-header-item close-search"><button ng-click="closeSearch()"><span>Cancel</span></button></div></div><div class="song-suggestions" ng-if="!myData.spotify.results && !searchText"><div class="song-results-header"><span>Trending</span></div><div ng-if="myData.spotify.suggestions.length > 0"><div ng-repeat="result in myData.spotify.suggestions"><div ng-click="addSong(result.uri, result.name, result.artists[0].name, result.album.name, result.album.images[0].url)" class="song-search-result"><img src="{{ result.album.images[0].url }}" class="song-image"><div class="song-info"><div class="song-title">{{ result.name }}</div><div class="song-artist">{{ result.artists[0].name }}</div></div></div></div></div></div><div class="song-search-results"><div ng-if="myData.spotify.results.length > 0"><div ng-repeat="result in myData.spotify.results"><div ng-click="addSong(result.uri, result.name, result.artists[0].name, result.album.name, result.album.images[0].url)" class="song-search-result"><img src="{{ result.album.images[0].url }}" class="song-image"><div class="song-info"><div class="song-title">{{ result.name }}</div><div class="song-artist">{{ result.artists[0].name }}</div></div></div></div></div></div><div ng-if="querying"><div spinner></div></div></div>')}])}(),function(e){try{e=angular.module("jukebox")}catch(o){e=angular.module("jukebox",[])}e.run(["$templateCache",function(e){e.put("/jukebox/common/footer/footer.html",'<div class="footer"><div class="footer-label"><span>Jukebox App</span></div><div class="footer-copyright"><span>&copy; 2016, All rights reserved.</span></div></div>')}])}(),function(e){try{e=angular.module("jukebox")}catch(o){e=angular.module("jukebox",[])}e.run(["$templateCache",function(e){e.put("/jukebox/common/header/header.html",'<div class="header"><div class="header-info" ng-if="currentlyPlaying"><div class="header-label song"><span>{{ currentlyPlaying.track }}</span></div><div class="header-label artist"><span>{{ currentlyPlaying.artist }}</span></div><div class="header-label user"><span>@{{ currentlyPlaying.submitter }}</span></div></div><div class="record-player"><div class="record" ng-if="currentlyPlaying"><img src="{{ currentlyPlaying.image_url }}"></div><div class="record" ng-if="!currentlyPlaying"><svg><use xlink:href="#plus-icon"></use></svg></div></div></div>')}])}(),function(e){try{e=angular.module("jukebox")}catch(o){e=angular.module("jukebox",[])}e.run(["$templateCache",function(e){e.put("/jukebox/common/plusButton/plusButton.html",'<button ng-click="showSearch()" class="plus-button"><div class="plus-icon"><svg><use xlink:href="#plus-icon"></use></svg></div></button>')}])}(),function(e){try{e=angular.module("jukebox")}catch(o){e=angular.module("jukebox",[])}e.run(["$templateCache",function(e){e.put("/jukebox/common/ui-elements/defaultModal.html",'<div class="default" tabindex="-1"><div class="modal-header"><h3 class="modal-title">{{ modal_title }}</h3></div><form><div class="modal-body" compile ng-bind-html="modal_body_html"></div><div class="modal-footer"><button class="btn btn-primary" type="submit" ng-click="ok()">{{ primary_btn_text }}</button><div ng-if="secondary_btn_text"><button class="btn btn-warning" type="button" ng-click="cancel()">{{ secondary_btn_text }}</button></div></div></form></div>')}])}();
